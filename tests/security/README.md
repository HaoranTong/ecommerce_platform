# 安全测试目录

## 📋 目录说明

本目录包含应用程序安全测试，验证系统对各种安全威胁的防护能力，确保数据和用户安全。

## 📁 文件结构

```
security/
├── README.md                        # 本说明文档
└── test_shopping_cart_security.py   # 购物车安全测试
```

## 🎯 安全测试范围

### 主要安全测试类型
- **SQL注入测试**: 验证数据库查询的注入防护
- **XSS攻击测试**: 跨站脚本攻击防护验证
- **CSRF防护测试**: 跨站请求伪造防护验证
- **权限边界测试**: 用户权限和访问控制测试
- **数据泄露测试**: 敏感数据保护验证
- **输入验证测试**: 恶意输入处理能力验证

### 当前测试模块
- **购物车安全**: 测试购物车模块的安全防护机制

## 🔒 安全检查项目

### 数据保护
- **敏感数据加密**: 密码、支付信息等关键数据加密存储
- **数据传输安全**: HTTPS传输，防止数据窃听
- **数据访问控制**: 严格的数据访问权限验证
- **数据备份安全**: 备份数据的安全存储和访问控制

### 认证和授权
- **身份认证强度**: 密码复杂度、多因素认证
- **会话管理**: 会话超时、会话固定攻击防护
- **权限验证**: API端点的权限检查
- **账户安全**: 账户锁定、异常登录检测

### 输入验证和输出编码
- **输入过滤**: 恶意输入的识别和过滤
- **参数验证**: API参数的类型和范围验证
- **输出编码**: 防止XSS攻击的输出编码
- **文件上传安全**: 文件类型和大小限制

## 🛠️ 执行方法

### 运行安全测试
```powershell
# 执行所有安全测试
pytest tests/security/ -v

# 执行特定模块安全测试
pytest tests/security/test_shopping_cart_security.py -v

# 生成安全测试报告
pytest tests/security/ --html=security_report.html
```

### 安全扫描工具
```powershell
# 使用bandit进行静态安全扫描
bandit -r app/ -f json -o security_scan.json

# 使用safety检查依赖漏洞
safety check --json

# SQL注入测试
sqlmap -u "http://localhost:8000/api/endpoint" --batch
```

## 🔧 安全测试工具

### 静态分析工具
- **bandit**: Python代码安全漏洞检测
- **safety**: 依赖包安全漏洞检查
- **semgrep**: 静态代码安全分析

### 动态测试工具
- **OWASP ZAP**: Web应用安全扫描
- **sqlmap**: SQL注入测试工具
- **Burp Suite**: Web应用渗透测试

### 加密和哈希工具
- **bcrypt**: 密码哈希加密
- **cryptography**: 加密算法库
- **JWT**: JSON Web Token安全实现

## 🚨 安全标准和合规

### OWASP Top 10防护
1. **注入攻击防护** - SQL、NoSQL、OS注入
2. **失效的身份认证** - 认证和会话管理
3. **敏感数据泄露** - 数据加密和保护
4. **XML外部实体(XXE)** - XML解析安全
5. **失效的访问控制** - 权限验证
6. **安全配置错误** - 安全配置管理
7. **跨站脚本(XSS)** - 输出编码防护
8. **不安全的反序列化** - 反序列化安全
9. **使用含有已知漏洞的组件** - 依赖安全
10. **不足的日志记录和监控** - 安全事件监控

### 合规要求
- **GDPR**: 数据保护和隐私要求
- **PCI DSS**: 支付卡行业数据安全标准
- **ISO 27001**: 信息安全管理体系

## 📚 相关文档

- **[测试标准文档](../../docs/standards/testing-standards.md)** - 安全测试规范
- **[安全开发指南](../../docs/standards/security-standards.md)** - 安全编码标准
- **[API安全标准](../../docs/standards/api-standards.md)** - API安全要求