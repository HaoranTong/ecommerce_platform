# æ•°æ®åº“è¿ç§»ç®¡ç†

Alembicæ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶å’Œè¿ç§»è„šæœ¬ç®¡ç†ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
alembic/
â”œâ”€â”€ versions/               # æ•°æ®åº“è¿ç§»ç‰ˆæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ 001_initial.py     # åˆå§‹æ•°æ®åº“ç»“æ„
â”‚   â”œâ”€â”€ 002_add_users.py   # ç”¨æˆ·è¡¨è¿ç§»
â”‚   â”œâ”€â”€ 003_add_products.py # å•†å“è¡¨è¿ç§»
â”‚   â””â”€â”€ ...                # å…¶ä»–è¿ç§»æ–‡ä»¶
â”œâ”€â”€ env.py                 # Alembicç¯å¢ƒé…ç½®
â”œâ”€â”€ script.py.mako         # è¿ç§»è„šæœ¬æ¨¡æ¿
â””â”€â”€ __pycache__/           # Pythonç¼“å­˜æ–‡ä»¶
```

## ğŸ”§ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ä½œç”¨ | ç»´æŠ¤è´£ä»» |
|-----|------|---------|
| **env.py** | Alembicç¯å¢ƒé…ç½®ï¼Œæ•°æ®åº“è¿æ¥è®¾ç½® | åç«¯å¼€å‘ |
| **script.py.mako** | æ–°è¿ç§»è„šæœ¬çš„ç”Ÿæˆæ¨¡æ¿ | æ¶æ„å¸ˆ |
| **versions/*.py** | å…·ä½“çš„æ•°æ®åº“è¿ç§»è„šæœ¬ | å¯¹åº”åŠŸèƒ½å¼€å‘è€… |

## ğŸš€ å¸¸ç”¨æ“ä½œ

```powershell
# ç”Ÿæˆæ–°è¿ç§»
alembic revision --autogenerate -m "æè¿°ä¿¡æ¯"

# åº”ç”¨è¿ç§»
alembic upgrade head

# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
alembic current

# å›æ»šè¿ç§»
alembic downgrade -1
```

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [æ•°æ®åº“è®¾è®¡è§„èŒƒ](../docs/standards/database-standards.md)
- [æ•°æ®æ¨¡å‹æ–‡æ¡£](../docs/modules/data-models/)
- [å¼€å‘å·¥å…·ä½¿ç”¨](../docs/development/tools.md)