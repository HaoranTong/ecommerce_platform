<!--
æ–‡æ¡£è¯´æ˜ï¼š
- å†…å®¹ï¼šæ•°æ®æ¶æ„è®¾è®¡ï¼ŒåŒ…æ‹¬æ•°æ®æ¨¡å‹ã€å­˜å‚¨ç­–ç•¥ã€æ•°æ®å…³ç³»å’Œæ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨æ–¹æ³•ï¼šæ•°æ®åº“è®¾è®¡å’Œæ•°æ®æ¨¡å‹å¼€å‘çš„æƒå¨æŒ‡å¯¼æ–‡æ¡£  
- æ›´æ–°æ–¹æ³•ï¼šæ•°æ®æ¶æ„è°ƒæ•´æˆ–æ–°å¢æ•°æ®æ¨¡å‹æ—¶æ›´æ–°
- å¼•ç”¨å…³ç³»ï¼šè¢«å„æ¨¡å—models.pyå¼•ç”¨ï¼Œå¼•ç”¨business-architecture.mdä¸šåŠ¡é¢†åŸŸ
- æ›´æ–°é¢‘ç‡ï¼šæ•°æ®æ¶æ„è®¾è®¡å˜æ›´æ—¶
-->

# æ•°æ®æ¶æ„è®¾è®¡

ğŸ“ **çŠ¶æ€**: âœ… å·²å‘å¸ƒ  
ğŸ“… **åˆ›å»ºæ—¥æœŸ**: 2025-09-22  
ğŸ‘¤ **è´Ÿè´£äºº**: æ•°æ®æ¶æ„å¸ˆ  
ğŸ”„ **æœ€åæ›´æ–°**: 2025-09-22  
ğŸ“‹ **ç‰ˆæœ¬**: v1.0.0  

## æ•°æ®æ¶æ„æ¦‚è§ˆ

### æ•°æ®å­˜å‚¨æ¶æ„ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®å­˜å‚¨æ¶æ„åˆ†å±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ä¸»æ•°æ®å­˜å‚¨  â”‚  â”‚  ç¼“å­˜å­˜å‚¨   â”‚  â”‚  æœç´¢å­˜å‚¨   â”‚  â”‚  æ–‡ä»¶å­˜å‚¨   â”‚ â”‚
â”‚  â”‚ å…³ç³»å‹æ•°æ®åº“ â”‚  â”‚ å†…å­˜æ•°æ®åº“  â”‚  â”‚ å…¨æ–‡æœç´¢å¼•æ“ â”‚  â”‚ å¯¹è±¡å­˜å‚¨æœåŠ¡ â”‚ â”‚
â”‚  â”‚ ACIDäº‹åŠ¡ä¿è¯ â”‚  â”‚ é«˜é€Ÿç¼“å­˜    â”‚  â”‚ å¤æ‚æŸ¥è¯¢    â”‚  â”‚ CDNåˆ†å‘     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  æ¶ˆæ¯å­˜å‚¨   â”‚  â”‚  åŒºå—é“¾å­˜å‚¨  â”‚  â”‚  æ—¶åºå­˜å‚¨   â”‚  â”‚  å‘é‡å­˜å‚¨   â”‚ â”‚
â”‚  â”‚ å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ— â”‚  â”‚ é˜²ç¯¡æ”¹å­˜è¯  â”‚  â”‚ æ—¶é—´åºåˆ—æ•°æ® â”‚  â”‚ AIæ¨¡å‹æ•°æ®  â”‚ â”‚
â”‚  â”‚ å‰Šå³°å¡«è°·    â”‚  â”‚ æº¯æºè®°å½•    â”‚  â”‚ IoTä¼ æ„Ÿå™¨   â”‚  â”‚ ç›¸ä¼¼åº¦æœç´¢  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **å…·ä½“æŠ€æœ¯é€‰å‹å’Œç‰ˆæœ¬**: è¯¦è§ [ç³»ç»ŸæŠ€æœ¯æ ˆè®¾è®¡](../design/system/technology-stack.md)

### æ•°æ®åˆ†å¸ƒç­–ç•¥

| æ•°æ®ç±»å‹ | å­˜å‚¨é€‰å‹ | è®¿é—®æ¨¡å¼ | æ€§èƒ½è¦æ±‚ |
|---------|---------|---------|---------|
| **æ ¸å¿ƒä¸šåŠ¡æ•°æ®** | MySQLä¸»åº“ | è¯»å†™é¢‘ç¹ | ACIDäº‹åŠ¡ä¿è¯ |
| **çƒ­ç‚¹æ•°æ®** | Redisç¼“å­˜ | è¯»å¤šå†™å°‘ | æ¯«ç§’çº§å“åº” |
| **æœç´¢æ•°æ®** | Elasticsearch | å¤æ‚æŸ¥è¯¢ | ç§’çº§å“åº” |
| **åª’ä½“æ–‡ä»¶** | OSS+CDN | è¯»å¤šå†™å°‘ | å…¨çƒåˆ†å‘ |
| **æº¯æºæ•°æ®** | åŒºå—é“¾+IPFS | é˜²ç¯¡æ”¹ | å¯ä¿¡å­˜è¯ |
| **IoTæ•°æ®** | InfluxDB | æ—¶åºå†™å…¥ | é«˜åå |
| **AIæ¨¡å‹æ•°æ®** | å‘é‡æ•°æ®åº“ | ç›¸ä¼¼åº¦æŸ¥è¯¢ | å®æ—¶æ¨è |

## æ¨¡å—æ•°æ®æ¶æ„

### æŒ‰ä¸šåŠ¡åŸŸåˆ’åˆ†æ•°æ®è¡¨

åŸºäº[ä¸šåŠ¡æ¶æ„è®¾è®¡](business-architecture.md)çš„6å¤§ä¸šåŠ¡åŸŸï¼Œè¿›è¡Œæ•°æ®è¡¨åˆ†é…ï¼š

#### 1. ç”¨æˆ·åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `users` | ç”¨æˆ·åŸºç¡€ä¿¡æ¯ | id, username, email, phone, password_hash | ä¸»é”®+å”¯ä¸€ç´¢å¼•(email,phone) |
| `roles` | è§’è‰²æƒé™ç®¡ç† | id, role_name, permissions | ä¸»é”®+å”¯ä¸€ç´¢å¼•(role_name) |
| `user_roles` | ç”¨æˆ·è§’è‰²å…³è” | user_id, role_id, assigned_at | å¤åˆä¸»é”®(user_id,role_id) |
| `member_levels` | ä¼šå‘˜ç­‰çº§ä½“ç³» | id, level_name, min_points, discount_rate | ä¸»é”®+ç´¢å¼•(min_points) |
| `member_points` | ä¼šå‘˜ç§¯åˆ†è®°å½• | id, user_id, current_points, total_earned | ä¸»é”®+ç´¢å¼•(user_id) |
| `point_transactions` | ç§¯åˆ†å˜åŠ¨æ˜ç»† | id, user_id, transaction_type, points_change | ä¸»é”®+å¤åˆç´¢å¼•(user_id,created_at) |

#### 2. å•†å“åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `categories` | å•†å“åˆ†ç±»å±‚æ¬¡ | id, name, parent_id, level, path | ä¸»é”®+ç´¢å¼•(parent_id,level) |
| `brands` | å•†å“å“ç‰Œ | id, name, slug, logo_url | ä¸»é”®+å”¯ä¸€ç´¢å¼•(slug) |
| `products` | å•†å“åŸºç¡€ä¿¡æ¯ | id, name, brand_id, category_id, status | ä¸»é”®+å¤åˆç´¢å¼•(category_id,status) |
| `skus` | å•†å“è§„æ ¼å®šä»· | id, product_id, sku_code, price, weight | ä¸»é”®+å”¯ä¸€ç´¢å¼•(sku_code) |
| `product_attributes` | å•†å“å±æ€§æ‰©å±• | id, product_id, attribute_name, attribute_value | å¤åˆç´¢å¼•(product_id,attribute_name) |
| `sku_attributes` | SKUå±æ€§æ‰©å±• | id, sku_id, attribute_name, attribute_value | å¤åˆç´¢å¼•(sku_id,attribute_name) |
| `product_images` | å•†å“å›¾ç‰‡ | id, product_id, image_url, sort_order | å¤åˆç´¢å¼•(product_id,sort_order) |
| `inventory` | SKUåº“å­˜æ•°é‡ | id, sku_id, available_quantity, reserved_quantity | ä¸»é”®+å”¯ä¸€ç´¢å¼•(sku_id) |
| `inventory_transactions` | åº“å­˜å˜åŠ¨è®°å½• | id, sku_id, transaction_type, quantity_change | å¤åˆç´¢å¼•(sku_id,created_at) |

#### 3. äº¤æ˜“åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `shopping_carts` | è´­ç‰©è½¦ä¸»è¡¨ | id, user_id, status, expires_at | ä¸»é”®+ç´¢å¼•(user_id,status) |
| `cart_items` | è´­ç‰©è½¦å•†å“é¡¹ | id, cart_id, sku_id, quantity, unit_price | å¤åˆç´¢å¼•(cart_id,sku_id) |
| `orders` | è®¢å•ä¸»è¡¨ | id, order_number, user_id, status, total_amount | ä¸»é”®+å¤åˆç´¢å¼•(user_id,status) |
| `order_items` | è®¢å•å•†å“æ˜ç»† | id, order_id, sku_id, quantity, unit_price | å¤åˆç´¢å¼•(order_id,sku_id) |
| `order_status_history` | è®¢å•çŠ¶æ€å†å² | id, order_id, old_status, new_status | å¤åˆç´¢å¼•(order_id,created_at) |
| `payments` | æ”¯ä»˜è®°å½• | id, order_id, payment_method, amount, status | å¤åˆç´¢å¼•(order_id,status) |
| `refunds` | é€€æ¬¾è®°å½• | id, payment_id, refund_amount, status | å¤åˆç´¢å¼•(payment_id,status) |

#### 4. è¥é”€åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `coupons` | ä¼˜æƒ åˆ¸ç®¡ç† | id, coupon_code, discount_type, discount_value | ä¸»é”®+å”¯ä¸€ç´¢å¼•(coupon_code) |
| `user_coupons` | ç”¨æˆ·ä¼˜æƒ åˆ¸ | id, user_id, coupon_id, status, expires_at | å¤åˆç´¢å¼•(user_id,status) |
| `group_buys` | æ‹¼å›¢æ´»åŠ¨ | id, product_id, required_count, current_count | ç´¢å¼•(product_id,status) |
| `group_buy_participants` | æ‹¼å›¢å‚ä¸è€… | id, group_buy_id, user_id, joined_at | å¤åˆç´¢å¼•(group_buy_id,user_id) |
| `distributors` | åˆ†é”€å•†ç®¡ç† | id, user_id, level, commission_rate | ä¸»é”®+ç´¢å¼•(user_id) |
| `commissions` | ä½£é‡‘è®°å½• | id, distributor_id, order_id, commission_amount | å¤åˆç´¢å¼•(distributor_id,order_id) |
| `social_shares` | ç¤¾äº¤åˆ†äº« | id, user_id, content_type, content_id, platform | å¤åˆç´¢å¼•(user_id,content_type) |
| `referrals` | é‚€è¯·æ¨è | id, referrer_id, referee_id, reward_amount | å¤åˆç´¢å¼•(referrer_id,referee_id) |

#### 5. å†œäº§å“åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `suppliers` | ä¾›åº”å•†ä¿¡æ¯ | id, company_name, contact_person, status | ä¸»é”®+ç´¢å¼•(status) |
| `supplier_products` | ä¾›åº”å•†å•†å“ | id, supplier_id, product_id, supply_price | å¤åˆç´¢å¼•(supplier_id,product_id) |
| `batches` | ç”Ÿäº§æ‰¹æ¬¡ | id, batch_code, product_id, production_date | ä¸»é”®+å”¯ä¸€ç´¢å¼•(batch_code) |
| `trace_records` | æº¯æºè®°å½• | id, batch_id, stage_type, operator, timestamp | å¤åˆç´¢å¼•(batch_id,timestamp) |
| `certificates` | è´¨é‡è®¤è¯ | id, batch_id, cert_type, cert_number | å¤åˆç´¢å¼•(batch_id,cert_type) |
| `quality_reports` | è´¨æ£€æŠ¥å‘Š | id, batch_id, test_type, test_result | å¤åˆç´¢å¼•(batch_id,test_type) |
| `shipments` | ç‰©æµé…é€ | id, order_id, tracking_number, status | å¤åˆç´¢å¼•(order_id,status) |
| `delivery_routes` | é…é€è·¯çº¿ | id, shipment_id, location, temperature | å¤åˆç´¢å¼•(shipment_id,timestamp) |

#### 6. å¹³å°åŸŸæ•°æ®è¡¨

| è¡¨å | ä¸»è¦èŒè´£ | æ ¸å¿ƒå­—æ®µ | ç´¢å¼•ç­–ç•¥ |
|------|---------|---------|---------|
| `notifications` | é€šçŸ¥æ¶ˆæ¯ | id, user_id, type, title, content, status | å¤åˆç´¢å¼•(user_id,status) |
| `customer_tickets` | å®¢æœå·¥å• | id, user_id, category, status, priority | å¤åˆç´¢å¼•(user_id,status) |
| `faq_articles` | FAQçŸ¥è¯†åº“ | id, category, question, answer, view_count | ç´¢å¼•(category,view_count) |
| `risk_events` | é£æ§äº‹ä»¶ | id, user_id, event_type, risk_score | å¤åˆç´¢å¼•(user_id,event_type) |
| `analytics_events` | ç”¨æˆ·è¡Œä¸ºäº‹ä»¶ | id, user_id, event_type, event_data | å¤åˆç´¢å¼•(user_id,created_at) |
| `recommendation_logs` | æ¨èè®°å½• | id, user_id, item_type, item_id, score | å¤åˆç´¢å¼•(user_id,item_type) |

## æ•°æ®æ¨¡å‹è®¾è®¡è§„èŒƒ

### ORMæ¶æ„è®¾è®¡åŸåˆ™

#### ç»Ÿä¸€åŸºç¡€æ¨¡å‹åŸåˆ™
- **åŸºç¡€ç±»æŠ½è±¡**: å®šä¹‰é€šç”¨çš„åŸºç¡€æ¨¡å‹ç±»ï¼ŒåŒ…å«æ ‡å‡†å­—æ®µå’Œè¡Œä¸º
- **æ··å…¥ç±»è®¾è®¡**: é€šè¿‡æ··å…¥ç±»æä¾›å¯å¤ç”¨çš„åŠŸèƒ½ç‰¹æ€§
- **æ—¶é—´æˆ³æ ‡å‡†**: ç»Ÿä¸€çš„åˆ›å»ºæ—¶é—´å’Œæ›´æ–°æ—¶é—´ç®¡ç†
- **è½¯åˆ é™¤æ”¯æŒ**: æ”¯æŒé€»è¾‘åˆ é™¤ä»¥ä¿æŠ¤å†å²æ•°æ®

#### åŸºç¡€æ¨¡å‹è®¾è®¡è¦æ±‚
- **ä¸»é”®ç­–ç•¥**: ç»Ÿä¸€ä½¿ç”¨è‡ªå¢æ•´å‹ä¸»é”®
- **æ³¨é‡Šè§„èŒƒ**: æ‰€æœ‰è¡¨å’Œå­—æ®µå¿…é¡»åŒ…å«å®Œæ•´çš„ä¸­æ–‡æ³¨é‡Š
- **æŠ½è±¡åŸºç±»**: å®šä¹‰æŠ½è±¡åŸºç±»é¿å…é‡å¤ä»£ç 
- **æ‰©å±•æ€§è®¾è®¡**: é¢„ç•™æ‰©å±•å­—æ®µå’Œæ‰©å±•æœºåˆ¶

### å¤–é”®çº¦æŸè®¾è®¡åŸåˆ™

#### çº¦æŸç­–ç•¥åˆ†ç±»
- **æ ¸å¿ƒä¸šåŠ¡å…³ç³»**: ä½¿ç”¨SET NULLä¿æŠ¤æ ¸å¿ƒä¸šåŠ¡æ•°æ®å®Œæ•´æ€§
- **ä»å±å…³ç³»**: ä½¿ç”¨CASCADEä¿æŒä¸»ä»æ•°æ®ä¸€è‡´æ€§
- **å¼•ç”¨å…³ç³»**: ä½¿ç”¨RESTRICTé˜²æ­¢æ„å¤–åˆ é™¤è¢«å¼•ç”¨æ•°æ®
- **å†å²å…³ç³»**: ä¿ç•™å†å²å…³è”é¿å…æ•°æ®å­¤å²›

#### å¤–é”®è®¾è®¡è§„èŒƒ
- **åˆ é™¤ç­–ç•¥**: æ ¹æ®ä¸šåŠ¡å…³ç³»é€‰æ‹©åˆé€‚çš„ON DELETEç­–ç•¥
- **æ›´æ–°ç­–ç•¥**: åˆç†è®¾ç½®ON UPDATEè¡Œä¸º
- **æ€§èƒ½è€ƒè™‘**: å¹³è¡¡æ•°æ®å®Œæ•´æ€§å’ŒæŸ¥è¯¢æ€§èƒ½
- **å¾®æœåŠ¡å‡†å¤‡**: è€ƒè™‘æœªæ¥æœåŠ¡æ‹†åˆ†å¯¹å¤–é”®çš„å½±å“

### ç´¢å¼•è®¾è®¡ç­–ç•¥

#### ç´¢å¼•è®¾è®¡åŸåˆ™  
- **æŸ¥è¯¢ä¼˜åŒ–**: åŸºäºå®é™…æŸ¥è¯¢æ¨¡å¼è®¾è®¡ç´¢å¼•
- **å¤åˆç´¢å¼•**: åˆç†ä½¿ç”¨å¤åˆç´¢å¼•æå‡æŸ¥è¯¢æ•ˆç‡
- **å”¯ä¸€çº¦æŸ**: é€šè¿‡å”¯ä¸€ç´¢å¼•ä¿è¯æ•°æ®å”¯ä¸€æ€§
- **æ€§èƒ½å¹³è¡¡**: å¹³è¡¡æŸ¥è¯¢æ€§èƒ½å’Œå†™å…¥æ€§èƒ½

#### ç´¢å¼•å‘½åè§„èŒƒ
- **å‰ç¼€æ ‡è¯†**: ä½¿ç”¨ç»Ÿä¸€çš„ç´¢å¼•å‘½åå‰ç¼€
- **å­—æ®µé¡ºåº**: å¤åˆç´¢å¼•æŒ‰æŸ¥è¯¢é¢‘ç‡æ’åºå­—æ®µ
- **ä¸šåŠ¡å«ä¹‰**: ç´¢å¼•åç§°ä½“ç°ä¸šåŠ¡æŸ¥è¯¢åœºæ™¯

> **å…·ä½“ORMå®ç°å’Œä»£ç **: è¯¦è§ [ç³»ç»ŸæŠ€æœ¯æ ˆè®¾è®¡](../design/system/technology-stack.md) å’Œå„æ¨¡å—æ•°æ®åº“è®¾è®¡æ–‡æ¡£
    )
```

## æ•°æ®ä¸€è‡´æ€§è®¾è®¡

### äº‹åŠ¡è¾¹ç•Œè®¾è®¡åŸåˆ™

#### äº‹åŠ¡èŒƒå›´åˆ’åˆ†
- **å•ä¸€èŒè´£**: æ¯ä¸ªäº‹åŠ¡ä¸“æ³¨äºä¸€ä¸ªä¸šåŠ¡æ“ä½œçš„å®Œæ•´æ€§
- **æœ€å°åŒ–èŒƒå›´**: å°½é‡ç¼©å°äº‹åŠ¡æ¶‰åŠçš„æ•°æ®èŒƒå›´å’ŒæŒæœ‰æ—¶é—´
- **åµŒå¥—é¿å…**: é¿å…äº‹åŠ¡åµŒå¥—å¯¼è‡´çš„æ­»é”å’Œæ€§èƒ½é—®é¢˜
- **å¼‚å¸¸å›æ»š**: å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œäº‹åŠ¡å›æ»šæœºåˆ¶

#### ä¸šåŠ¡äº‹åŠ¡ç­–ç•¥
- **å¼ºä¸€è‡´æ€§**: å…³é”®ä¸šåŠ¡æ“ä½œä½¿ç”¨ACIDäº‹åŠ¡ä¿è¯æ•°æ®ä¸€è‡´æ€§
- **è¡¥å¿æœºåˆ¶**: é•¿äº‹åŠ¡é€šè¿‡è¡¥å¿äº‹åŠ¡å¤„ç†å¼‚å¸¸æƒ…å†µ
- **è¶…æ—¶æ§åˆ¶**: è®¾ç½®åˆç†çš„äº‹åŠ¡è¶…æ—¶æ—¶é—´é¿å…é•¿æ—¶é—´é”å®š
- **éš”ç¦»çº§åˆ«**: æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„äº‹åŠ¡éš”ç¦»çº§åˆ«

> **å…·ä½“äº‹åŠ¡å®ç°**: è¯¦è§ [ç³»ç»ŸæŠ€æœ¯æ ˆè®¾è®¡](../design/system/technology-stack.md) å’Œå„æ¨¡å—æ•°æ®åº“è®¾è®¡

### è·¨æ¨¡å—æ•°æ®ä¸€è‡´æ€§åŸåˆ™

#### ä¸€è‡´æ€§ç­–ç•¥é€‰æ‹©
- **å¼ºä¸€è‡´æ€§**: å…³é”®ä¸šåŠ¡æ•°æ®ä½¿ç”¨åŒæ­¥äº‹åŠ¡ä¿è¯å¼ºä¸€è‡´æ€§
- **æœ€ç»ˆä¸€è‡´æ€§**: éå…³é”®ä¸šåŠ¡æ•°æ®é€šè¿‡äº‹ä»¶æœºåˆ¶ä¿è¯æœ€ç»ˆä¸€è‡´æ€§
- **è¡¥å¿ä¸€è‡´æ€§**: å¤æ‚ä¸šåŠ¡æµç¨‹é€šè¿‡è¡¥å¿æœºåˆ¶ä¿è¯ä¸šåŠ¡ä¸€è‡´æ€§
- **åˆ†å¸ƒå¼äº‹åŠ¡**: è·¨ç³»ç»Ÿæ“ä½œä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¨¡å¼

#### äº‹ä»¶é©±åŠ¨æ¶æ„
- **äº‹ä»¶å‘å¸ƒ**: ä¸šåŠ¡æ“ä½œå®Œæˆåå‘å¸ƒç›¸å…³ä¸šåŠ¡äº‹ä»¶
- **å¼‚æ­¥å¤„ç†**: é€šè¿‡äº‹ä»¶æ€»çº¿å¼‚æ­¥å¤„ç†è·¨æ¨¡å—ä¸šåŠ¡é€»è¾‘
- **äº‹ä»¶æº¯æº**: ä¿ç•™å®Œæ•´çš„äº‹ä»¶å†å²æ”¯æŒä¸šåŠ¡å®¡è®¡
- **å¹‚ç­‰æ€§**: ç¡®ä¿äº‹ä»¶å¤„ç†çš„å¹‚ç­‰æ€§é¿å…é‡å¤å¤„ç†

> **å…·ä½“äº‹ä»¶æœºåˆ¶å®ç°**: è¯¦è§ [ç³»ç»Ÿé›†æˆè®¾è®¡](../design/system/integration-design.md)

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### ç¼“å­˜æ¶æ„ç­–ç•¥

#### ç¼“å­˜åˆ†å±‚è®¾è®¡
- **åº”ç”¨ç¼“å­˜**: åº”ç”¨å±‚å†…å­˜ç¼“å­˜æå‡è®¡ç®—æ€§èƒ½
- **åˆ†å¸ƒå¼ç¼“å­˜**: è·¨å®ä¾‹å…±äº«çš„åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿ
- **æ•°æ®åº“ç¼“å­˜**: æ•°æ®åº“å±‚æŸ¥è¯¢ç»“æœç¼“å­˜
- **CDNç¼“å­˜**: é™æ€èµ„æºçš„å…¨çƒåˆ†å‘ç¼“å­˜

#### ç¼“å­˜ç­–ç•¥åŸåˆ™
- **æ•°æ®åˆ†ç±»**: æ ¹æ®æ•°æ®ç‰¹æ€§é€‰æ‹©ä¸åŒçš„ç¼“å­˜ç­–ç•¥
- **è¿‡æœŸç­–ç•¥**: è®¾ç½®åˆç†çš„ç¼“å­˜è¿‡æœŸæ—¶é—´å’Œåˆ·æ–°ç­–ç•¥
- **ä¸€è‡´æ€§ä¿è¯**: ç¼“å­˜ä¸æ•°æ®åº“çš„ä¸€è‡´æ€§ç»´æŠ¤æœºåˆ¶
- **çƒ­ç‚¹è¯†åˆ«**: è¯†åˆ«çƒ­ç‚¹æ•°æ®ä¼˜åŒ–ç¼“å­˜å‘½ä¸­ç‡

#### ç¼“å­˜ä½¿ç”¨åœºæ™¯
- **ç”¨æˆ·ä¿¡æ¯**: é¢‘ç¹è®¿é—®çš„ç”¨æˆ·åŸºç¡€ä¿¡æ¯
- **å•†å“æ•°æ®**: å•†å“è¯¦æƒ…å’Œåº“å­˜ä¿¡æ¯
- **é…ç½®æ•°æ®**: ç³»ç»Ÿé…ç½®å’Œä¸šåŠ¡è§„åˆ™æ•°æ®
- **è®¡ç®—ç»“æœ**: å¤æ‚è®¡ç®—å’Œç»Ÿè®¡ç»“æœæ•°æ®

> **å…·ä½“ç¼“å­˜å®ç°**: è¯¦è§ [ç³»ç»Ÿæ€§èƒ½è®¾è®¡](../design/system/performance-design.md)

### åˆ†åº“åˆ†è¡¨ç­–ç•¥

```python
# æ•°æ®åˆ†ç‰‡ç­–ç•¥ (ä¸ºå¾®æœåŠ¡æ¼”è¿›å‡†å¤‡)
class ShardingStrategy:
    """æ•°æ®åˆ†ç‰‡ç­–ç•¥"""
    
    @staticmethod
    def get_user_shard(user_id: int) -> str:
        """ç”¨æˆ·æ•°æ®åˆ†ç‰‡ - æŒ‰ç”¨æˆ·IDå“ˆå¸Œ"""
        shard_index = user_id % 4  # 4ä¸ªåˆ†ç‰‡
        return f"user_shard_{shard_index}"
    
    @staticmethod  
    def get_order_shard(order_date: str) -> str:
        """è®¢å•æ•°æ®åˆ†ç‰‡ - æŒ‰æ—¥æœŸåˆ†ç‰‡"""
        return f"order_{order_date.replace('-', '')}"
```

## æ•°æ®å®‰å…¨ä¸åˆè§„

### æ•°æ®åŠ å¯†å­˜å‚¨

```python
# æ•æ„Ÿæ•°æ®åŠ å¯†
from cryptography.fernet import Fernet
import hashlib

class DataEncryption:
    """æ•°æ®åŠ å¯†å·¥å…·"""
    
    @staticmethod
### æ•°æ®å®‰å…¨æ¶æ„

#### æ•°æ®åŠ å¯†ç­–ç•¥
- **ä¼ è¾“åŠ å¯†**: æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­çš„ç«¯åˆ°ç«¯åŠ å¯†ä¿æŠ¤
- **å­˜å‚¨åŠ å¯†**: æ•æ„Ÿæ•°æ®çš„åŠ å¯†å­˜å‚¨å’Œè®¿é—®æ§åˆ¶
- **å­—æ®µçº§åŠ å¯†**: å¯¹ç‰¹å®šæ•æ„Ÿå­—æ®µè¿›è¡Œç‹¬ç«‹åŠ å¯†
- **å¯†é’¥ç®¡ç†**: å®‰å…¨çš„åŠ å¯†å¯†é’¥ç”Ÿæˆã€å­˜å‚¨å’Œè½®æ¢

#### æ•°æ®è„±æ•åŸåˆ™
- **åˆ†çº§è„±æ•**: æ ¹æ®æ•°æ®æ•æ„Ÿçº§åˆ«é‡‡ç”¨ä¸åŒè„±æ•ç­–ç•¥
- **åŠ¨æ€è„±æ•**: è¿è¡Œæ—¶æ ¹æ®ç”¨æˆ·æƒé™åŠ¨æ€è„±æ•æ˜¾ç¤º
- **æµ‹è¯•ç¯å¢ƒ**: æµ‹è¯•å’Œå¼€å‘ç¯å¢ƒä½¿ç”¨è„±æ•æ•°æ®
- **æ—¥å¿—ä¿æŠ¤**: ç¡®ä¿æ—¥å¿—ä¸­ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯

### å®¡è®¡è¿½è¸ªæ¶æ„

#### å®¡è®¡æ•°æ®ç­–ç•¥
- **æ“ä½œè®°å½•**: è®°å½•æ‰€æœ‰æ•°æ®å˜æ›´æ“ä½œçš„å®Œæ•´ä¿¡æ¯
- **ç”¨æˆ·è¿½è¸ª**: è¿½è¸ªæ“ä½œç”¨æˆ·ã€æ—¶é—´ã€IPç­‰ä¸Šä¸‹æ–‡ä¿¡æ¯
- **æ•°æ®å˜æ›´**: è®°å½•å˜æ›´å‰åçš„æ•°æ®çŠ¶æ€å¯¹æ¯”
- **ä¸šåŠ¡å®¡è®¡**: è®°å½•å…³é”®ä¸šåŠ¡æ“ä½œçš„å®¡è®¡è½¨è¿¹

#### å®¡è®¡æ—¥å¿—ç®¡ç†
- **æ—¥å¿—åˆ†ç±»**: æŒ‰æ“ä½œç±»å‹å’Œé‡è¦ç¨‹åº¦åˆ†ç±»å­˜å‚¨
- **ä¿ç•™ç­–ç•¥**: è®¾ç½®åˆç†çš„æ—¥å¿—ä¿ç•™æœŸé™å’Œå½’æ¡£ç­–ç•¥
- **æŸ¥è¯¢ä¼˜åŒ–**: ä¼˜åŒ–å®¡è®¡æ—¥å¿—çš„æŸ¥è¯¢å’Œåˆ†ææ€§èƒ½
- **åˆè§„è¦æ±‚**: æ»¡è¶³è¡Œä¸šåˆè§„å’Œç›‘ç®¡è¦æ±‚

> **å…·ä½“æ•°æ®å®‰å…¨å®ç°**: è¯¦è§ [ç³»ç»Ÿå®‰å…¨è®¾è®¡](../design/system/security-design.md)

## å†œäº§å“ç”µå•†ç‰¹è‰²æ•°æ®æ¶æ„

### åŒºå—é“¾æº¯æºæ•°æ®æ¶æ„

#### æº¯æºæ•°æ®ç­–ç•¥
- **é“¾ä¸Šå­˜è¯**: å…³é”®æº¯æºä¿¡æ¯ä¸Šé“¾ç¡®ä¿æ•°æ®ä¸å¯ç¯¡æ”¹
- **é“¾ä¸‹å­˜å‚¨**: è¯¦ç»†æ•°æ®é€šè¿‡åˆ†å¸ƒå¼å­˜å‚¨ä¿å­˜å¹¶é“¾ä¸Šå­˜è¯å“ˆå¸Œ
- **æ•°æ®åˆ†ç±»**: æŒ‰ç”Ÿäº§ã€æ£€æµ‹ã€è¿è¾“ç­‰ç¯èŠ‚åˆ†ç±»å­˜å‚¨æº¯æºæ•°æ®
- **å®æ—¶åŒæ­¥**: æº¯æºæ•°æ®å®æ—¶åŒæ­¥åˆ°åŒºå—é“¾ç½‘ç»œ

#### åŒºå—é“¾é›†æˆåŸåˆ™
- **æ··åˆæ¶æ„**: ç»“åˆå…¬æœ‰é“¾å’Œè”ç›Ÿé“¾ä¼˜åŠ¿è®¾è®¡æº¯æºç³»ç»Ÿ
- **æˆæœ¬ä¼˜åŒ–**: å¹³è¡¡æ•°æ®å®Œæ•´æ€§å’ŒåŒºå—é“¾äº¤æ˜“æˆæœ¬
- **æŸ¥è¯¢æ•ˆç‡**: è®¾è®¡é«˜æ•ˆçš„æº¯æºæ•°æ®æŸ¥è¯¢å’ŒéªŒè¯æœºåˆ¶
- **æ ‡å‡†å…¼å®¹**: éµå¾ªå†œäº§å“æº¯æºè¡Œä¸šæ ‡å‡†å’Œè§„èŒƒ

### IoTæ•°æ®é‡‡é›†æ¶æ„

#### æ—¶åºæ•°æ®ç­–ç•¥
- **å®æ—¶é‡‡é›†**: å†œä¸šIoTè®¾å¤‡å®æ—¶é‡‡é›†ç¯å¢ƒå’Œç”Ÿäº§æ•°æ®
- **æ•°æ®åˆ†ç±»**: æŒ‰ä¼ æ„Ÿå™¨ç±»å‹å’Œæ•°æ®é‡è¦æ€§åˆ†çº§å­˜å‚¨
- **å‹ç¼©å­˜å‚¨**: ä½¿ç”¨æ—¶åºæ•°æ®åº“ä¼˜åŒ–å­˜å‚¨å’ŒæŸ¥è¯¢æ€§èƒ½
- **æ•°æ®æ¸…æ´—**: å¯¹IoTæ•°æ®è¿›è¡Œå®æ—¶æ¸…æ´—å’Œå¼‚å¸¸å€¼è¿‡æ»¤

#### IoTæ•°æ®ç®¡ç†
- **è®¾å¤‡ç®¡ç†**: ç»Ÿä¸€ç®¡ç†IoTè®¾å¤‡æ³¨å†Œã€é…ç½®å’ŒçŠ¶æ€ç›‘æ§
- **æ•°æ®è´¨é‡**: ç¡®ä¿IoTæ•°æ®çš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
- **è¾¹ç¼˜è®¡ç®—**: åœ¨è¾¹ç¼˜èŠ‚ç‚¹è¿›è¡Œæ•°æ®é¢„å¤„ç†å’Œåˆ†æ
- **æ•°æ®èåˆ**: å°†IoTæ•°æ®ä¸ä¸šåŠ¡æ•°æ®è¿›è¡Œå…³è”åˆ†æ

> **å…·ä½“åŒºå—é“¾å’ŒIoTå®ç°**: è¯¦è§ç›¸å…³æ¨¡å—è®¾è®¡æ–‡æ¡£

## ç›¸å…³æ–‡æ¡£

- [ä¸šåŠ¡æ¶æ„è®¾è®¡](business-architecture.md) - ä¸šåŠ¡é¢†åŸŸå’Œæ•°æ®è¾¹ç•Œ
- [åº”ç”¨æ¶æ„è®¾è®¡](application-architecture.md) - åº”ç”¨å±‚æ•°æ®è®¿é—®
- [åŸºç¡€è®¾æ–½æ¶æ„](infrastructure-architecture.md) - æ•°æ®åº“éƒ¨ç½²æ¶æ„
- [æ•°æ®åº“è®¾è®¡è§„èŒƒ](../standards/database-standards.md) - å…·ä½“å®ç°è§„èŒƒ
